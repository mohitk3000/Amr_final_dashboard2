{"ast":null,"code":"/**\n * @author Russell Toris - rctoris@wpi.edu\n */\n\n/**\n * A OccupancyGridClientNav uses an OccupancyGridClient to create a map for use with a Navigator.\n *\n * @constructor\n * @param options - object with following keys:\n *   * ros - the ROSLIB.Ros connection handle\n *   * tfClient (optional) - Read information from TF\n *   * topic (optional) - the map topic to listen to\n *   * robot_pose (optional) - the robot topic or TF to listen position\n *   * rootObject (optional) - the root object to add this marker to\n *   * continuous (optional) - if the map should be continuously loaded (e.g., for SLAM)\n *   * serverName (optional) - the action server name to use for navigation, like '/move_base'\n *   * actionName (optional) - the navigation action name, like 'move_base_msgs/MoveBaseAction'\n *   * rootObject (optional) - the root object to add the click listeners to and render robot markers to\n *   * withOrientation (optional) - if the Navigator should consider the robot orientation (default: false)\n *   * image (optional) - the route of the image if we want to use the NavigationImage instead the NavigationArrow\n *   * viewer - the main viewer to render to\n */\nNAV2D.OccupancyGridClientNav = function (options) {\n  var that = this;\n  options = options || {};\n  var ros = options.ros;\n  var tfClient = options.tfClient || null;\n  var map_topic = options.topic || \"/map\";\n  var robot_pose = options.robot_pose || \"/robot_pose\";\n  var continuous = options.continuous;\n  var serverName = options.serverName || \"/move_base\";\n  var actionName = options.actionName || \"move_base_msgs/MoveBaseAction\";\n  var rootObject = options.rootObject || new createjs.Container();\n  var viewer = options.viewer;\n  var withOrientation = options.withOrientation || false;\n  var image = options.image || false;\n  var old_state = null;\n\n  // setup a client to get the map\n  var client = new ROS2D.OccupancyGridClient({\n    ros: ros,\n    rootObject: rootObject,\n    continuous: continuous,\n    topic: map_topic\n  });\n  this.navigator = new NAV2D.Navigator({\n    ros: ros,\n    tfClient: tfClient,\n    serverName: serverName,\n    actionName: actionName,\n    robot_pose: robot_pose,\n    rootObject: rootObject,\n    withOrientation: withOrientation,\n    image: image\n  });\n  client.on(\"change\", function () {\n    // scale the viewer to fit the map\n    console.log(\"draw map\");\n    old_state = NAV2D.resizeMap(old_state, viewer, client.currentGrid);\n  });\n};","map":{"version":3,"names":["NAV2D","OccupancyGridClientNav","options","that","ros","tfClient","map_topic","topic","robot_pose","continuous","serverName","actionName","rootObject","createjs","Container","viewer","withOrientation","image","old_state","client","ROS2D","OccupancyGridClient","navigator","Navigator","on","console","log","resizeMap","currentGrid"],"sources":["/home/mohit/Downloads/AMRbot_dashboard/src/components/js/ros-nav2d-js/navigator/OccupancyGridClientNav.js"],"sourcesContent":["/**\n * @author Russell Toris - rctoris@wpi.edu\n */\n\n/**\n * A OccupancyGridClientNav uses an OccupancyGridClient to create a map for use with a Navigator.\n *\n * @constructor\n * @param options - object with following keys:\n *   * ros - the ROSLIB.Ros connection handle\n *   * tfClient (optional) - Read information from TF\n *   * topic (optional) - the map topic to listen to\n *   * robot_pose (optional) - the robot topic or TF to listen position\n *   * rootObject (optional) - the root object to add this marker to\n *   * continuous (optional) - if the map should be continuously loaded (e.g., for SLAM)\n *   * serverName (optional) - the action server name to use for navigation, like '/move_base'\n *   * actionName (optional) - the navigation action name, like 'move_base_msgs/MoveBaseAction'\n *   * rootObject (optional) - the root object to add the click listeners to and render robot markers to\n *   * withOrientation (optional) - if the Navigator should consider the robot orientation (default: false)\n *   * image (optional) - the route of the image if we want to use the NavigationImage instead the NavigationArrow\n *   * viewer - the main viewer to render to\n */\nNAV2D.OccupancyGridClientNav = function (options) {\n  var that = this;\n  options = options || {};\n  var ros = options.ros;\n  var tfClient = options.tfClient || null;\n  var map_topic = options.topic || \"/map\";\n  var robot_pose = options.robot_pose || \"/robot_pose\";\n  var continuous = options.continuous;\n  var serverName = options.serverName || \"/move_base\";\n  var actionName = options.actionName || \"move_base_msgs/MoveBaseAction\";\n  var rootObject = options.rootObject || new createjs.Container();\n  var viewer = options.viewer;\n  var withOrientation = options.withOrientation || false;\n  var image = options.image || false;\n  var old_state = null;\n\n  // setup a client to get the map\n  var client = new ROS2D.OccupancyGridClient({\n    ros: ros,\n    rootObject: rootObject,\n    continuous: continuous,\n    topic: map_topic,\n  });\n\n  this.navigator = new NAV2D.Navigator({\n    ros: ros,\n    tfClient: tfClient,\n    serverName: serverName,\n    actionName: actionName,\n    robot_pose: robot_pose,\n    rootObject: rootObject,\n    withOrientation: withOrientation,\n    image: image,\n  });\n\n  client.on(\"change\", function () {\n    // scale the viewer to fit the map\n    console.log(\"draw map\");\n    old_state = NAV2D.resizeMap(old_state, viewer, client.currentGrid);\n  });\n};\n"],"mappings":"AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAA,KAAK,CAACC,sBAAsB,GAAG,UAAUC,OAAO,EAAE;EAChD,IAAIC,IAAI,GAAG,IAAI;EACfD,OAAO,GAAGA,OAAO,IAAI,CAAC,CAAC;EACvB,IAAIE,GAAG,GAAGF,OAAO,CAACE,GAAG;EACrB,IAAIC,QAAQ,GAAGH,OAAO,CAACG,QAAQ,IAAI,IAAI;EACvC,IAAIC,SAAS,GAAGJ,OAAO,CAACK,KAAK,IAAI,MAAM;EACvC,IAAIC,UAAU,GAAGN,OAAO,CAACM,UAAU,IAAI,aAAa;EACpD,IAAIC,UAAU,GAAGP,OAAO,CAACO,UAAU;EACnC,IAAIC,UAAU,GAAGR,OAAO,CAACQ,UAAU,IAAI,YAAY;EACnD,IAAIC,UAAU,GAAGT,OAAO,CAACS,UAAU,IAAI,+BAA+B;EACtE,IAAIC,UAAU,GAAGV,OAAO,CAACU,UAAU,IAAI,IAAIC,QAAQ,CAACC,SAAS,CAAC,CAAC;EAC/D,IAAIC,MAAM,GAAGb,OAAO,CAACa,MAAM;EAC3B,IAAIC,eAAe,GAAGd,OAAO,CAACc,eAAe,IAAI,KAAK;EACtD,IAAIC,KAAK,GAAGf,OAAO,CAACe,KAAK,IAAI,KAAK;EAClC,IAAIC,SAAS,GAAG,IAAI;;EAEpB;EACA,IAAIC,MAAM,GAAG,IAAIC,KAAK,CAACC,mBAAmB,CAAC;IACzCjB,GAAG,EAAEA,GAAG;IACRQ,UAAU,EAAEA,UAAU;IACtBH,UAAU,EAAEA,UAAU;IACtBF,KAAK,EAAED;EACT,CAAC,CAAC;EAEF,IAAI,CAACgB,SAAS,GAAG,IAAItB,KAAK,CAACuB,SAAS,CAAC;IACnCnB,GAAG,EAAEA,GAAG;IACRC,QAAQ,EAAEA,QAAQ;IAClBK,UAAU,EAAEA,UAAU;IACtBC,UAAU,EAAEA,UAAU;IACtBH,UAAU,EAAEA,UAAU;IACtBI,UAAU,EAAEA,UAAU;IACtBI,eAAe,EAAEA,eAAe;IAChCC,KAAK,EAAEA;EACT,CAAC,CAAC;EAEFE,MAAM,CAACK,EAAE,CAAC,QAAQ,EAAE,YAAY;IAC9B;IACAC,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC;IACvBR,SAAS,GAAGlB,KAAK,CAAC2B,SAAS,CAACT,SAAS,EAAEH,MAAM,EAAEI,MAAM,CAACS,WAAW,CAAC;EACpE,CAAC,CAAC;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}